{% extends "base.html" %}

{% block title %}Your Profile{% endblock %}

{% block content %}
<div class="p-0 md:p-0">
    <h1 class="text-2xl font-semibold text-primary mb-6 px-6 md:px-8 pt-6 md:pt-8">Your Profile & Resume Builder</h1>

    <div class="profile-section"> {# Applies glassmorphism and padding #}
        <h2 class="text-xl font-semibold text-primary mb-4">Profile & Summary</h2>
        <form method="post" action="{% url 'profiles:profile_detail' %}">
            {% csrf_token %}
            <div class="space-y-4">
                <div>
                    <label for="{{ profile_form.bio.id_for_label }}" class="block text-sm font-medium text-secondary">{{ profile_form.bio.label }}</label>
                    {{ profile_form.bio }} {# Renders widget defined in forms.py #}
                    {% if profile_form.bio.errors %}<p class="text-red-600 text-sm mt-1">{{ profile_form.bio.errors|striptags }}</p>{% endif %}
                </div>
                <div>
                    <label for="{{ profile_form.summary.id_for_label }}" class="block text-sm font-medium text-secondary">{{ profile_form.summary.label }}</label>
                    {{ profile_form.summary }} {# Renders widget defined in forms.py #}
                    {% if profile_form.summary.errors %}<p class="text-red-600 text-sm mt-1">{{ profile_form.summary.errors|striptags }}</p>{% endif %}
                     <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">Your professional summary or objective for resumes.</p>
                </div>
                <div>
                    <label for="{{ profile_form.location.id_for_label }}" class="block text-sm font-medium text-secondary">{{ profile_form.location.label }}</label>
                    {{ profile_form.location }} {# Renders widget defined in forms.py #}
                    {% if profile_form.location.errors %}<p class="text-red-600 text-sm mt-1">{{ profile_form.location.errors|striptags }}</p>{% endif %}
                </div>
                <div>
                    <label for="{{ profile_form.website.id_for_label }}" class="block text-sm font-medium text-secondary">{{ profile_form.website.label }}</label>
                    {{ profile_form.website }} {# Renders widget defined in forms.py #}
                    {% if profile_form.website.errors %}<p class="text-red-600 text-sm mt-1">{{ profile_form.website.errors|striptags }}</p>{% endif %}
                </div>
                 <div>
                    <label for="{{ profile_form.linkedin_url.id_for_label }}" class="block text-sm font-medium text-secondary">{{ profile_form.linkedin_url.label }}</label>
                    {{ profile_form.linkedin_url }} {# Renders widget defined in forms.py #}
                    {% if profile_form.linkedin_url.errors %}<p class="text-red-600 text-sm mt-1">{{ profile_form.linkedin_url.errors|striptags }}</p>{% endif %}
                </div>
            </div>
            <div class="mt-6">
                <button type="submit" class="button inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    Update Profile
                </button>
            </div>
        </form>
    </div>

    <div class="profile-section"> {# Applies glassmorphism and padding #}
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold text-primary">Education</h2>
            <a href="{% url 'profiles:add_education' %}" class="button inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                + Add Education
            </a>
        </div>
        {# Include the partial template to display the list #}
        {% include "profiles/_section_list.html" with item_list=education_list empty_message="No education added yet." edit_url_name="profiles:edit_education" delete_url_name="profiles:delete_education" %}
    </div>

    <div class="profile-section"> {# Applies glassmorphism and padding #}
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold text-primary">Work Experience</h2>
            <a href="{% url 'profiles:add_experience' %}" class="button inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                + Add Experience
            </a>
        </div>
         {# Include the partial template to display the list #}
         {% include "profiles/_section_list.html" with item_list=experience_list empty_message="No work experience added yet." edit_url_name="profiles:edit_experience" delete_url_name="profiles:delete_experience" %}
    </div>

    <div class="profile-section"> {# Applies glassmorphism and padding #}
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold text-primary">Projects</h2>
            <a href="{% url 'profiles:add_project' %}" class="button inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                + Add Project
            </a>
        </div>
        {# Include the partial template to display the list #}
        {% include "profiles/_section_list.html" with item_list=project_list empty_message="No projects added yet." edit_url_name="profiles:edit_project" delete_url_name="profiles:delete_project" %}
    </div>

    <div class="profile-section"> {# Applies glassmorphism and padding #}
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold text-primary">Awards & Honors</h2>
            <a href="{% url 'profiles:add_award' %}" class="button inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                + Add Award
            </a>
        </div>
        {# Include the partial template to display the list #}
        {% include "profiles/_section_list.html" with item_list=award_list empty_message="No awards added yet." edit_url_name="profiles:edit_award" delete_url_name="profiles:delete_award" %}
    </div>

    <div class="profile-section"> {# Applies glassmorphism and padding #}
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-semibold text-primary">Certifications</h2>
            <a href="{% url 'profiles:add_certification' %}" class="button inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                + Add Certification
            </a>
        </div>
        {# Include the partial template to display the list #}
        {% include "profiles/_section_list.html" with item_list=certification_list empty_message="No certifications added yet." edit_url_name="profiles:edit_certification" delete_url_name="profiles:delete_certification" %}
    </div>

    <div class="profile-section"> {# Applies glassmorphism and padding #}
        <h2 class="text-xl font-semibold text-primary mb-4">Skills</h2>
        <form method="post" action="{% url 'profiles:add_skill' %}" class="flex items-center space-x-2 mb-4">
             {% csrf_token %}
             <div class="flex-grow">
                  <label for="{{ skill_form.name.id_for_label }}" class="sr-only">{{ skill_form.name.label }}</label>
                  {{ skill_form.name }} {# Renders widget defined in forms.py #}
                  {% if skill_form.name.errors %}<p class="text-red-600 text-sm mt-1">{{ skill_form.name.errors|striptags }}</p>{% endif %}
             </div>
             <button type="submit" class="flex-shrink-0 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                 + Add
             </button>
         </form>
         {# Include the partial template to display the skills list #}
        {% include "profiles/_skill_list.html" with skill_list=skill_list empty_message="No skills added yet." delete_url_name="profiles:delete_skill" %}
    </div>

</div>
{% endblock %}
